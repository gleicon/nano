# Plan 03-02: Request/Response APIs

## Goal
Implement Web API compatible Request and Response classes for V8.

## Context
- Workers use Request/Response for HTTP handling
- These complete HTTP-01, HTTP-02, HTTP-03 requirements
- Foundation for wiring HTTP server to JavaScript

## Success Criteria
1. `new Request(url, options)` creates request object
2. `new Response(body, options)` creates response object
3. Request has url, method, headers properties
4. Response has status, ok, headers, text(), json() methods
5. Headers class for header manipulation

## Implementation

### Files to Create/Modify

1. **src/api/headers.zig** (NEW)
   - Headers class with get/set/has/delete
   - Iterable header storage

2. **src/api/request.zig** (NEW)
   - Request constructor
   - url, method, headers properties
   - Clone support

3. **src/api/response.zig** (ENHANCE existing fetch.zig Response)
   - Full Response constructor with body/options
   - Static methods: Response.json(), Response.redirect()

4. **build.zig** (MODIFY)
   - Add headers module
   - Add request module

### Technical Approach

**Headers:**
```javascript
const h = new Headers();
h.set("Content-Type", "application/json");
h.get("content-type");  // case-insensitive
h.has("Content-Type");  // true
```

**Request:**
```javascript
const req = new Request("https://example.com/api", {
  method: "POST",
  headers: { "Content-Type": "application/json" },
  body: JSON.stringify({ key: "value" })
});
req.url;     // "https://example.com/api"
req.method;  // "POST"
```

**Response:**
```javascript
const res = new Response("Hello", { status: 200 });
res.status;  // 200
res.ok;      // true
await res.text();  // "Hello"

// Static constructors
Response.json({ data: 1 });
Response.redirect("/new-url", 302);
```

## Duration
Estimated: 1 plan
