# Requirements Archive: v1.1 Multi-App Hosting

**Archived:** 2026-02-01
**Status:** SHIPPED

This is the archived requirements specification for v1.1.
For current requirements, see `.planning/PROJECT.md` (Validated section carries cumulative record).

---

## Milestone Requirements

### MULTI-01: Load multiple apps from config

**Priority:** v1 (Must Have)
**Phase:** 1

**Description:**
Config file specifies multiple apps, each with:
- Unique hostname (e.g., "app-a.local")
- Path to app directory
- Optional: memory limit, timeout

**Acceptance Criteria:**
- [x] Config parser handles array of apps
- [x] Each app loaded with separate V8 isolate
- [x] Apps accessible via their configured hostnames

**Outcome:** VALIDATED - Config parser extended, apps load from JSON array

---

### MULTI-02: Route by Host header on single port

**Priority:** v1 (Must Have)
**Phase:** 1

**Description:**
HTTP server listens on single port, routes requests to correct app based on HTTP Host header.

**Acceptance Criteria:**
- [x] Parse Host header from incoming requests
- [x] Route to correct app based on hostname
- [x] Default app for unknown hosts
- [x] Port stripped from Host value

**Outcome:** VALIDATED - Host-based routing working with default fallback

---

### MULTI-03: Hot reload apps without restart

**Priority:** v1 (Must Have)
**Phase:** 2

**Description:**
Config file changes detected and applied without server restart. Admin API for runtime app management.

**Acceptance Criteria:**
- [x] Config file watcher detects changes
- [x] Reload applies new/removed apps atomically
- [x] No request drops during reload
- [x] Admin API: GET /admin/apps
- [x] Admin API: POST /admin/apps
- [x] Admin API: DELETE /admin/apps?hostname=X
- [x] Admin API: POST /admin/reload

**Outcome:** VALIDATED - Poll-based watcher + full Admin API implemented

---

## Traceability Matrix

| REQ-ID | Requirement | Phase | Plan(s) | Status |
|--------|-------------|-------|---------|--------|
| MULTI-01 | Load multiple apps from config | 1 | 01-PLAN | Complete |
| MULTI-02 | Route by Host header on single port | 1 | 01-PLAN | Complete |
| MULTI-03 | Hot reload apps without restart | 2 | 02-01-PLAN, 02-02-PLAN | Complete |

---

## Milestone Summary

**Shipped:** 3 of 3 v1 requirements
**Adjusted:** None
**Dropped:** None

All requirements delivered as specified. Technical debt (handle changed apps with same hostname) documented for future enhancement.

---

*Archived: 2026-02-01 as part of v1.1 milestone completion*
